import{A as W,b0 as K,B as j,ar as J,aQ as N,G as V,F as I,aR as S,b1 as B,b2 as P,d as R,f as Z,b3 as q,aV as X,aS as Y,H as m,J as _,aW as x,I as ee,r as T,a3 as ae,K as E,au as ie,c as ne,Q as se,$ as le,b4 as $,V as te,e as A,i as a,j as d,k as p,P as t,aU as oe,a5 as c,w as y,a7 as w,a8 as l,aa as C,Z as U,l as de,a6 as ce,ay as re,ab as ue}from"./index.e442f220.js";const ve=W({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:K,default:""},inactiveIcon:{type:K,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:j(Function)},size:{type:String,validator:J}}),he={[N]:e=>V(e)||I(e)||S(e),[B]:e=>V(e)||I(e)||S(e),[P]:e=>V(e)||I(e)||S(e)},O="ElSwitch",fe=R({name:O,components:{ElIcon:Z,Loading:q},props:ve,emits:he,setup(e,{emit:s}){const{formItem:h}=X(),b=Y(m(()=>e.loading)),v=_("switch"),{inputId:D}=x(e,{formItemContext:h}),u=ee(),f=T(e.modelValue!==!1),o=T(),z=T(),G=m(()=>[v.b(),v.m(u.value),v.is("disabled",b.value),v.is("checked",r.value)]),H=m(()=>({width:ae(e.width)}));E(()=>e.modelValue,()=>{f.value=!0}),E(()=>e.value,()=>{f.value=!1});const M=m(()=>f.value?e.modelValue:e.value),r=m(()=>M.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(M.value)||(s(N,e.inactiveValue),s(B,e.inactiveValue),s(P,e.inactiveValue)),E(r,()=>{var i;o.value.checked=r.value,(e.activeColor||e.inactiveColor)&&F(),e.validateEvent&&((i=h==null?void 0:h.validate)==null||i.call(h,"change").catch(n=>ie()))});const k=()=>{const i=r.value?e.inactiveValue:e.activeValue;s(N,i),s(B,i),s(P,i),le(()=>{o.value.checked=r.value})},L=()=>{if(b.value)return;const{beforeChange:i}=e;if(!i){k();return}const n=i();[$(n),V(n)].some(g=>g)||te(O,"beforeChange must return type `Promise<boolean>` or `boolean`"),$(n)?n.then(g=>{g&&k()}).catch(g=>{}):n&&k()},F=()=>{const i=r.value?e.activeColor:e.inactiveColor,n=z.value;e.borderColor?n.style.borderColor=e.borderColor:e.borderColor||(n.style.borderColor=i),n.style.backgroundColor=i,n.children[0].style.color=i},Q=()=>{var i,n;(n=(i=o.value)==null?void 0:i.focus)==null||n.call(i)};return ne(()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&F(),o.value.checked=r.value}),{ns:v,input:o,inputId:D,core:z,switchDisabled:b,checked:r,switchKls:G,coreStyle:H,handleChange:k,switchValue:L,focus:Q}}}),me=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled"],ye=["aria-hidden"],be=["aria-hidden"],ke=["aria-hidden"],ge=["aria-hidden"];function we(e,s,h,b,v,D){const u=A("el-icon"),f=A("loading");return a(),d("div",{class:t(e.switchKls),onClick:s[2]||(s[2]=re((...o)=>e.switchValue&&e.switchValue(...o),["prevent"]))},[p("input",{id:e.inputId,ref:"input",class:t(e.ns.e("input")),type:"checkbox",role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:s[0]||(s[0]=(...o)=>e.handleChange&&e.handleChange(...o)),onKeydown:s[1]||(s[1]=oe((...o)=>e.switchValue&&e.switchValue(...o),["enter"]))},null,42,me),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(a(),d("span",{key:0,class:t([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(a(),c(u,{key:0},{default:y(()=>[(a(),c(w(e.inactiveIcon)))]),_:1})):l("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),d("span",{key:1,"aria-hidden":e.checked},C(e.inactiveText),9,ye)):l("v-if",!0)],2)):l("v-if",!0),p("span",{ref:"core",class:t(e.ns.e("core")),style:ce(e.coreStyle)},[e.inlinePrompt?(a(),d("div",{key:0,class:t(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(a(),d(U,{key:0},[e.activeIcon?(a(),c(u,{key:0,class:t([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:y(()=>[(a(),c(w(e.activeIcon)))]),_:1},8,["class"])):l("v-if",!0),e.inactiveIcon?(a(),c(u,{key:1,class:t([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:y(()=>[(a(),c(w(e.inactiveIcon)))]),_:1},8,["class"])):l("v-if",!0)],64)):e.activeText||e.inactiveIcon?(a(),d(U,{key:1},[e.activeText?(a(),d("span",{key:0,class:t([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},C(e.activeText.substring(0,3)),11,be)):l("v-if",!0),e.inactiveText?(a(),d("span",{key:1,class:t([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},C(e.inactiveText.substring(0,3)),11,ke)):l("v-if",!0)],64)):l("v-if",!0)],2)):l("v-if",!0),p("div",{class:t(e.ns.e("action"))},[e.loading?(a(),c(u,{key:0,class:t(e.ns.is("loading"))},{default:y(()=>[de(f)]),_:1},8,["class"])):l("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(a(),d("span",{key:1,class:t([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(a(),c(u,{key:0},{default:y(()=>[(a(),c(w(e.activeIcon)))]),_:1})):l("v-if",!0),!e.activeIcon&&e.activeText?(a(),d("span",{key:1,"aria-hidden":!e.checked},C(e.activeText),9,ge)):l("v-if",!0)],2)):l("v-if",!0)],2)}var Ce=se(fe,[["render",we],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Se=ue(Ce);export{Se as E};
