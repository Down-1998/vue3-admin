var pe=Object.defineProperty,ye=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ee=(a,r,o)=>r in a?pe(a,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[r]=o,Q=(a,r)=>{for(var o in r||(r={}))fe.call(r,o)&&ee(a,o,r[o]);if(X)for(var o of X(r))ve.call(r,o)&&ee(a,o,r[o]);return a},J=(a,r)=>ye(a,he(r));import{A as re,B as Y,bd as De,d as Z,at as oe,J as U,H as D,bv as K,i as p,j as h,Z as L,aD as R,aa as P,m as s,a8 as le,k as E,P as b,O as F,Q as de,aQ as ke,r as ce,l as k,w as f,h as H,q as w,bw as ue,bi as te,bx as ae,by as ne,a5 as ie,ab as _e}from"./index.e442f220.js";import{r as j,d as z,l as ge}from"./date-utils2.179c4d67.js";const be=(a,r)=>{const o=a.subtract(1,"month").endOf("month").date();return j(r).map((c,i)=>o-(r-i-1))},Me=a=>{const r=a.daysInMonth();return j(r).map((o,c)=>c+1)},Ce=a=>j(a.length/7).map(r=>{const o=r*7;return a.slice(o,o+7)}),$e=re({selectedDay:{type:Y(Object)},range:{type:Y(Array)},date:{type:Y(Object),required:!0},hideHeader:{type:Boolean}}),we={pick:a=>De(a)},Oe={key:0},Se=["onClick"],xe={name:"DateTable"},Pe=Z(J(Q({},xe),{props:$e,emits:we,setup(a,{expose:r,emit:o}){const c=a;z.extend(ge);const{t:i,lang:y}=oe(),_=U("calendar-table"),C=U("calendar-day"),O=z().locale(y.value),M=O.$locale().weekStart||0,T=D(()=>!!c.range&&!!c.range.length),W=D(()=>{let n=[];if(T.value){const[d,u]=c.range,t=j(u.date()-d.date()+1).map(m=>({text:d.date()+m,type:"current"}));let e=t.length%7;e=e===0?0:7-e;const l=j(e).map((m,g)=>({text:g+1,type:"next"}));n=t.concat(l)}else{const d=c.date.startOf("month").day(),u=be(c.date,d-M).map(m=>({text:m,type:"prev"})),t=Me(c.date).map(m=>({text:m,type:"current"}));n=[...u,...t];const e=7-(n.length%7||7),l=j(e).map((m,g)=>({text:g+1,type:"next"}));n=n.concat(l)}return Ce(n)}),I=D(()=>{const n=M;return n===0?K.map(d=>i(`el.datepicker.weeks.${d}`)):K.slice(n).concat(K.slice(0,n)).map(d=>i(`el.datepicker.weeks.${d}`))}),S=(n,d)=>{switch(d){case"prev":return c.date.startOf("month").subtract(1,"month").date(n);case"next":return c.date.startOf("month").add(1,"month").date(n);case"current":return c.date.date(n)}},$=({text:n,type:d})=>{const u=[d];if(d==="current"){const t=S(n,d);t.isSame(c.selectedDay,"day")&&u.push(C.is("selected")),t.isSame(O,"day")&&u.push(C.is("today"))}return u},v=({text:n,type:d})=>{const u=S(n,d);o("pick",u)},A=({text:n,type:d})=>{const u=S(n,d);return{isSelected:u.isSame(c.selectedDay),type:`${d}-month`,day:u.format("YYYY-MM-DD"),date:u.toDate()}};return r({getFormattedDate:S}),(n,d)=>(p(),h("table",{class:b([s(_).b(),s(_).is("range",s(T))]),cellspacing:"0",cellpadding:"0"},[n.hideHeader?le("v-if",!0):(p(),h("thead",Oe,[(p(!0),h(L,null,R(s(I),u=>(p(),h("th",{key:u},P(u),1))),128))])),E("tbody",null,[(p(!0),h(L,null,R(s(W),(u,t)=>(p(),h("tr",{key:t,class:b({[s(_).e("row")]:!0,[s(_).em("row","hide-border")]:t===0&&n.hideHeader})},[(p(!0),h(L,null,R(u,(e,l)=>(p(),h("td",{key:l,class:b($(e)),onClick:m=>v(e)},[E("div",{class:b(s(C).b())},[F(n.$slots,"dateCell",{data:A(e)},()=>[E("span",null,P(e.text),1)])],2)],10,Se))),128))],2))),128))])],2))}}));var se=de(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const Ee=re({modelValue:{type:Date},range:{type:Y(Array),validator:a=>Array.isArray(a)&&a.length===2&&a.every(r=>r instanceof Date)}}),je={[ke]:a=>a instanceof Date,input:a=>a instanceof Date},Ae={name:"ElCalendar"},Ve=Z(J(Q({},Ae),{props:Ee,emits:je,setup(a,{expose:r,emit:o}){const c=a,i=U("calendar"),{t:y,lang:_}=oe(),C=ce(),O=z().locale(_.value),M=D(()=>v.value.subtract(1,"month").date(1)),T=D(()=>v.value.add(1,"month").date(1)),W=D(()=>v.value.subtract(1,"year").date(1)),I=D(()=>v.value.add(1,"year").date(1)),S=D(()=>{const t=`el.datepicker.month${v.value.format("M")}`;return`${v.value.year()} ${y("el.datepicker.year")} ${y(t)}`}),$=D({get(){return c.modelValue?v.value:C.value},set(t){if(!t)return;C.value=t;const e=t.toDate();o("input",e),o("update:modelValue",e)}}),v=D(()=>c.modelValue?z(c.modelValue).locale(_.value):$.value?$.value:n.value.length?n.value[0][0]:O),A=(t,e)=>{const l=t.startOf("week"),m=e.endOf("week"),g=l.get("month"),B=m.get("month");if(g===B)return[[l,m]];if(g+1===B){const V=l.endOf("month"),x=m.startOf("month"),N=V.isSame(x,"week")?x.add(1,"week"):x;return[[l,V],[N.startOf("week"),m]]}else if(g+2===B||(g+1)%11===B){const V=l.endOf("month"),x=l.add(1,"month").startOf("month"),q=V.isSame(x,"week")?x.add(1,"week"):x,N=q.endOf("month"),G=m.startOf("month"),me=N.isSame(G,"week")?G.add(1,"week"):G;return[[l,V],[q.startOf("week"),N],[me.startOf("week"),m]]}else return[]},n=D(()=>{if(!c.range)return[];const t=c.range.map(m=>z(m).locale(_.value)),[e,l]=t;return e.isAfter(l)?[]:e.isSame(l,"month")?A(e,l):e.add(1,"month").month()!==l.month()?[]:A(e,l)}),d=t=>{$.value=t},u=t=>{let e;t==="prev-month"?e=M.value:t==="next-month"?e=T.value:t==="prev-year"?e=W.value:t==="next-year"?e=I.value:e=O,!e.isSame(v.value,"day")&&d(e)};return r({selectedDay:$,pickDay:d,selectDate:u,calculateValidatedDateRange:A}),(t,e)=>(p(),h("div",{class:b(s(i).b())},[E("div",{class:b(s(i).e("header"))},[F(t.$slots,"header",{date:s(S)},()=>[E("div",{class:b(s(i).e("title"))},P(s(S)),3),s(n).length===0?(p(),h("div",{key:0,class:b(s(i).e("button-group"))},[k(s(ue),null,{default:f(()=>[k(s(H),{size:"small",onClick:e[0]||(e[0]=l=>u("prev-month"))},{default:f(()=>[w(P(s(y)("el.datepicker.prevMonth")),1)]),_:1}),k(s(H),{size:"small",onClick:e[1]||(e[1]=l=>u("today"))},{default:f(()=>[w(P(s(y)("el.datepicker.today")),1)]),_:1}),k(s(H),{size:"small",onClick:e[2]||(e[2]=l=>u("next-month"))},{default:f(()=>[w(P(s(y)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):le("v-if",!0)])],2),s(n).length===0?(p(),h("div",{key:0,class:b(s(i).e("body"))},[k(se,{date:s(v),"selected-day":s($),onPick:d},te({_:2},[t.$slots.dateCell?{name:"dateCell",fn:f(l=>[F(t.$slots,"dateCell",ae(ne(l)))])}:void 0]),1032,["date","selected-day"])],2)):(p(),h("div",{key:1,class:b(s(i).e("body"))},[(p(!0),h(L,null,R(s(n),(l,m)=>(p(),ie(se,{key:m,date:l[0],"selected-day":s($),range:l,"hide-header":m!==0,onPick:d},te({_:2},[t.$slots.dateCell?{name:"dateCell",fn:f(g=>[F(t.$slots,"dateCell",ae(ne(g)))])}:void 0]),1032,["date","selected-day","range","hide-header"]))),128))],2))],2))}}));var ze=de(Ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const Te=_e(ze);const Be=E("span",null,"Custom header content",-1),Ne=w("Previous Year"),Ye=w("Previous Month"),Le=w("Today"),Re=w("Next Month"),Fe=w("Next Year"),qe=Z({setup(a){const r=ce(),o=c=>{r.value.selectDate(c)};return(c,i)=>{const y=H,_=ue,C=Te;return p(),ie(C,{ref_key:"calendar",ref:r},{header:f(({date:O})=>[Be,E("span",null,P(O),1),k(_,null,{default:f(()=>[k(y,{size:"small",onClick:i[0]||(i[0]=M=>o("prev-year"))},{default:f(()=>[Ne]),_:1}),k(y,{size:"small",onClick:i[1]||(i[1]=M=>o("prev-month"))},{default:f(()=>[Ye]),_:1}),k(y,{size:"small",onClick:i[2]||(i[2]=M=>o("today"))},{default:f(()=>[Le]),_:1}),k(y,{size:"small",onClick:i[3]||(i[3]=M=>o("next-month"))},{default:f(()=>[Re]),_:1}),k(y,{size:"small",onClick:i[4]||(i[4]=M=>o("next-year"))},{default:f(()=>[Fe]),_:1})]),_:1})]),_:1},512)}}});export{qe as default};
