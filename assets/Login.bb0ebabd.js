import{d as A,r as E,u as b,a as D,b as _,o as k,c as w,E as x,e as g,f as V,g as q,h as I,i as N,j as S,k as a,l as e,m as t,w as s,_ as U,n as j,p as M,q as R}from"./index.e442f220.js";import{E as T,a as z}from"./el-form-item.9d23cc7c.js";/* empty css                 */import"./castArray.602f2c4f.js";import"./isEqual.1c4f213d.js";var L="./assets/1.a9926957.jpg",Z="./assets/Particles.388b395c.mp4";const $={class:"login-container"},P=a("video",{poster:L,loop:"",autoplay:"",muted:""},[a("source",{src:Z})],-1),G={class:"login-form"},H=a("header",null,[a("img",{src:U}),a("h3",null,"vue3-admin")],-1),J={style:{"margin-left":"10px",display:"inline-block",height:"40px"}},K=["src"],O=R("\u767B\u5F55"),ue=A({setup(Q){const d=E("");b();const m=D(),o=_({username:"",password:"",uuid:"",verifyCode:""}),f=_({username:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{2,10}$/,message:"\u8BF7\u8F93\u51652-10\u4F4D\u7684\u5B57\u6BCD\u6216\u8005\u6570\u5B57",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{2,10}$/,message:"\u8BF7\u8F93\u51652-10\u4F4D\u7684\u5B57\u6BCD\u6216\u8005\u6570\u5B57",trigger:"blur"},{min:2,max:10,message:"\u8BF7\u8F93\u51652-10\u4F4D\u7684\u5B57\u6BCD\u6216\u8005\u6570\u5B57",trigger:"blur"}],verifyCode:[{required:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{whitespace:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A\u683C"}]}),h=async()=>{await m.dispatch("authStore/login",o)},y=()=>{const u=localStorage.getItem("token");u!==null&&m.dispatch("authStore/loginByToken",u)},p=()=>{j().then(u=>{u.code===200?(d.value=u.data.image,o.uuid=u.data.uuid):M({message:u.message,type:"error"})})};return k(()=>{p(),y()}),w(()=>{x({title:"\u5C0F\u63D0\u793A",message:"\u540E\u53F0\u7BA1\u7406\u5458\u8D26\u53F7:admin,\u5BC6\u7801:123456",type:"info"})}),(u,r)=>{const C=g("user"),c=V,i=q,n=T,B=g("lock"),v=I,F=z;return N(),S("div",$,[P,a("div",G,[H,e(F,{ref:"loginFormRef",model:t(o),rules:t(f)},{default:s(()=>[e(n,{prop:"username"},{default:s(()=>[e(c,null,{default:s(()=>[e(C)]),_:1}),e(i,{placeholder:"username",modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=l=>t(o).username=l),type:"text"},null,8,["modelValue"])]),_:1}),e(n,{prop:"password"},{default:s(()=>[e(c,null,{default:s(()=>[e(B)]),_:1}),e(i,{placeholder:"password",modelValue:t(o).password,"onUpdate:modelValue":r[1]||(r[1]=l=>t(o).password=l),type:"password"},null,8,["modelValue"])]),_:1}),e(n,{prop:"verifyCode",class:"verify-item"},{default:s(()=>[e(i,{modelValue:t(o).verifyCode,"onUpdate:modelValue":r[2]||(r[2]=l=>t(o).verifyCode=l),placeholder:"\u9A8C\u8BC1\u7801",type:"verifyCode",style:{width:"40%",height:"40px",display:"inline-block",border:"1px solid rgba(255, 255, 255, 0.1)"}},null,8,["modelValue"]),a("div",J,[a("img",{src:d.value,onClick:p,alt:" ",style:{width:"100%",height:"100%","object-fit":"cover","margin-bottom":"-12px"}},null,8,K)])]),_:1}),e(n,{style:{border:"none",background:"none"}},{default:s(()=>[e(v,{type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:h},{default:s(()=>[O]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}});export{ue as default};
